//Generated by wsdl2apex-plus

public class ${schema.name} {

#foreach($type in $schema.simpleTypes)

    public class $type.name {
#if($type.enumerated)
        Set<String> enumerations = new Set<String>{#foreach($enumeration in $type.enumerations)'${enumeration}'#if($foreach.hasNext),#end#end};
#end
        public void validate(${type.apexType} value, String elementName) {
#if($type.minLengthRestricted)
            if (value.length() < ${type.minLength}) {
                throw new ${schema.name}.SchemaValidationException('Element ' + '"' + elementName + '": '+ '"' + value + '" is too short for "${type.name}". The minimum length is ${type.minLength}');
            }
#end
#if($type.maxLengthRestricted)
            if (value.length() > ${type.maxLength}) {
                throw new ${schema.name}.SchemaValidationException('Element ' + '"' + elementName + '": '+ '"' + value + '" is too long for "${type.name}". The maximum length is ${type.maxLength}');
            }
#end
#if($type.lengthRestricted)
            if (value.length() != ${type.length}) {
                throw new ${schema.name}.SchemaValidationException('Element ' + '"' + elementName + '": '+ '"' + value + '" length is invalid for "${type.name}". The length must be exactly ${type.length}');
            }
#end
#if($type.enumerated)
            if (!enumerations.contains(value)) {
                throw new ${schema.name}.SchemaValidationException('Element ' + '"' + elementName + '": '+ '"' + value + '" is not a valid value for "${type.name}"');
            }
#end
#if($type.regexPatternRestricted)
            if (!Pattern.matches('${type.regexPattern}')) {
                throw new ${schema.name}.SchemaValidationException('Element ' + '"' + elementName + '": '+ '"' + value + '" for "${type.name}" does not match the pattern "${type.regexPattern}"');
            }
#end
        }
    }
#end

    public class SchemaValidationException extends Exception {
    }
}